webpackJsonp([2],{EWhg:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u,a,c,l,p,s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),f=function t(e,o,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,n)}if("value"in r)return r.value;var u=r.get;if(void 0!==u)return u.call(n)},y=o("GXmR");a=y.MainController,Backbone.Radio.channel("global"),c=Backbone.Radio.channel("messages"),l=Backbone.Radio.channel("resources");var h=o("iuxk");p=h.ToolbarAppletLayout,u=function(){var t=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"setup_layout_if_needed",value:function(){return f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setup_layout_if_needed",this).call(this)}},{key:"list_pages",value:function(){var t=this;return this.setup_layout_if_needed(),console.log("List Pages"),o.e(6).then(function(){var e,n,r;return e=o("b5Zz"),r=new e({collection:t.collection}),n=t.collection.fetch(),n.done(function(){return t.layout.showChildView("content",r)}),n.fail(function(){return c.request("danger","Failed to load documents.")})}.bind(null,o)).catch(o.oe)}},{key:"edit_page",value:function(t){var e=this;return this.setup_layout_if_needed(),o.e(4).then(function(){var n,r;return n=o("qdJU").EditPageView,r=l.request("get-document",t),e._load_view(n,r)}.bind(null,o)).catch(o.oe)}},{key:"view_page",value:function(t){var e=this;return this.setup_layout_if_needed(),o.e(6).then(function(){var n,r;return n=o("6tEF"),r=l.request("get-document",t),e._load_view(n,r)}.bind(null,o)).catch(o.oe)}},{key:"new_page",value:function(){var t=this;return this.setup_layout_if_needed(),o.e(4).then(function(){var e,n;return e=o("qdJU").NewPageView,n=new e,t.layout.showChildView("content",n)}.bind(null,o)).catch(o.oe)}}]),e}(a);return t.prototype.layoutClass=p,t.prototype.collection=l.request("document-collection"),t}(),t.exports=u},R0Nh:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u,a,c,l,p,s,f=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),y=function t(e,o,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,n)}if("value"in r)return r.value;var u=r.get;if(void 0!==u)return u.call(n)};l=o("y11e"),s=o("agle"),o("zap6"),a=o("EWhg"),c=Backbone.Radio.channel("global"),Backbone.Radio.channel("resources"),p=function(){var t=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(l.AppRouter);return t.prototype.appRoutes={dbdocs:"list_pages","dbdocs/documents":"list_pages","dbdocs/documents/new":"new_page","dbdocs/documents/view/:id":"view_page","dbdocs/documents/edit/:id":"edit_page"},t}(),u=function(){var t=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),f(e,[{key:"onBeforeStart",value:function(){var t=this;return y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onBeforeStart",this).call(this,arguments),c.reply("applet:dbdocs:router",function(){return t.router}),c.reply("applet:dbdocs:controller",function(){return t.router.controller})}}]),e}(s);return t.prototype.Controller=a,t.prototype.Router=p,t}(),t.exports=u},agle:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u,a,c=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),l=[].indexOf;o("y11e"),a=o("HWfR"),Backbone.Radio.channel("global"),u=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),c(e,[{key:"onBeforeStart",value:function(){var t,e,o,n,r,i=this;return e=new this.Controller,e.applet=this,this.router=new this.Router({controller:e}),(null!=this?this.appRoutes:void 0)&&(t=("function"==typeof this.appRoutes?this.appRoutes():void 0)||this.appRoutes,Object.keys(t).forEach(function(e){return i.router.appRoute(e,t[e])})),(null!=(n=this.options)?n.isFrontdoorApplet:void 0)&&(o=(null!=(r=this.options.appConfig)?r.startFrontdoorMethod:void 0)||"start",l.call(Object.keys(this.router.appRoutes),"")<0&&this.router.appRoute("",o)),this._extraRouters={},this.initExtraRouters()}},{key:"onStop",value:function(){}},{key:"setExtraRouter",value:function(t,e,o){var n,r;return n=new o,r=new e({controller:n}),this._extraRouters[t]=r}},{key:"initExtraRouters",value:function(){var t,e,o,n;t=this.getOption("extraRouters"),this.getOption("extraRouters"),e=[];for(n in t)o=t[n],console.log("rtr",n,o),this.setExtraRouter(n,o.router,o.controller),e.push(void 0);return e}},{key:"getExtraRouter",value:function(t){return this._extraRouters[t]}}]),e}(a.App),t.exports=u},nSjZ:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u,a,c,l,p;u=o("aGLy"),o("y11e"),a=function(t,e){var o,n,r;n=t.create();for(o in e)r=e[o],n.set(o,r);return t.add(n),t.save()},c=function(t,e){var o;return o=t.get(e),void 0===o?new t.model({id:e}):o},p=function(t,e){var o,a;return a=function(){var t=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(u.Model);return t.prototype.urlRoot=e,t}(),o=function(){var t=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(u.Model);return t.prototype.model=a,t.prototype.url=e,t}(),{modelClass:a,collectionClass:o}},l=function(t,e,o,n){var r;return r=new n,t.reply(e+"-collection",function(){return r}),t.reply("new-"+e,function(){return new o}),t.reply("add-"+e,function(t){return a(r(t))}),t.reply("get-"+e,function(t){return c(r,t)}),t.reply(e+"-modelClass",function(){return o}),t.reply(e+"-collectionClass",function(){return n})},t.exports={make_dbclasses:p,make_dbchannel:l}},zap6:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u,a,c,l,p,s,f,y,h;c=o("aGLy"),h=o("nSjZ").make_dbchannel,s=c.Radio.channel("global"),f=c.Radio.channel("resources"),y="/api/dev/booky/DbDoc",a=s.request("main:app:AuthModel"),u=s.request("main:app:AuthCollection"),l=function(){var t=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(a);return t.prototype.urlRoot=y,t}(),p=function(){var t=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(u);return t.prototype.url=y,t.prototype.model=l,t}(),h(f,"document",l,p),t.exports={DocumentCollection:p}}});