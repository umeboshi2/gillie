webpackJsonp([3],{"2clo":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h,d,y,g,b,v,m,w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)};c=n("aGLy"),n("SiCa"),g=n("ytdl"),d=n("OhLM"),f=c.Radio.channel("global"),h=c.Radio.channel("messages"),b=function(){return"Bearer "+localStorage.getItem("auth_token")},m=function(e){return e.setRequestHeader("Authorization",b())},f.reply("main:app:authBeforeSend",function(){return m}),y=function(e){return e=e||{},e.beforeSend=m,e},s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),w(t,[{key:"sync",value:function(e,n,r){return r=y(r),_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sync",this).call(this,e,n,r)}}]),t}(c.Model),v=f.request("main:app:get-pagesize"),p=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),w(t,[{key:"parse",value:function(e){return this.state.totalRecords=e.total,this.state.totalPages=Math.ceil(e.total/this.state.pageSize),this.state.lastPage=this.state.totalPages-1,_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.items)}}]),t}(d);return e.prototype.queryParams={sort:function(){return this.state.sortColumn},direction:function(){return this.state.sortDirection},pageSize:"limit",currentPage:"",offset:function(){return this.state.currentPage*this.state.pageSize}},e.prototype.state={firstPage:0,pageSize:parseInt(v),sortColumn:"id",sortDirection:"asc"},e}(),a=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),w(t,[{key:"sync",value:function(e,n,r){return r=y(r),_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sync",this).call(this,e,n,r)}}]),t}(p),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),w(t,[{key:"sync",value:function(e,n,r){return r=y(r),_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sync",this).call(this,e,n,r)}},{key:"parse",value:function(e){return _(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.items)}}]),t}(c.Collection),f.reply("main:app:AuthModel",function(){return s}),f.reply("main:app:AuthCollection",function(){return a}),f.reply("main:app:AuthUnPaginated",function(){return l}),u=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s);return e.prototype.url="/auth/refresh",e}(),f.reply("main:app:AuthRefresh",function(){return u}),f.reply("main:app:refresh-token",function(){var e,t;return e=new u,t=e.fetch(),t.fail(function(){var e;return 401===t.status?window.location.hash="#frontdoor/login":(e="There was a problem refreshing the access token",h.request("warning",e))}),t.done(function(){var t;return t=e.get("token"),g(t),localStorage.setItem("auth_token",t)})}),f.reply("main:app:set-auth-token",function(e){return localStorage.setItem("auth_token",e)}),f.reply("main:app:decode-auth-token",function(){var e;return e=localStorage.getItem("auth_token"),e?g(e):{}}),f.reply("current-user",function(){var e;return e=f.request("main:app:decode-auth-token"),e?new c.Model(e):null}),f.reply("main:app:destroy-auth-token",function(){return localStorage.removeItem("auth_token")}),e.exports={}},"4svf":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h,d,y,g,b,v,m,w,_,O,P,k;s=n("aGLy"),p=n("y11e"),k=n("2mEY"),n("ytdl"),b=n("EarI"),n("SiCa"),h=n("X484"),n("qYnM"),m=n("7YgM"),w=new s.Model(m),l=n("H97n"),c=s.Radio.channel("global"),f=s.Radio.channel("messages"),u=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(p.View);return e.prototype.template=k.renderable(function(e){return".col-sm-2.col-sm-offset-10",".col-sm-2.col-sm-offset-1",k.div(".col-sm-10.col-sm-offset-1",function(){return k.table(".table",function(){return k.tr(function(){var t,n;return e.remaining>=0?(n=86400,t=Math.floor(e.remaining/n),k.td(t+" days left for "+e.token.name)):k.td("Time expired for "+e.token.name),k.td("Version: "+e.version)})})})}),e}(),v=function(e){var t;return t=new Date,new Date(1e3*e.exp)-t},d=function(){var e,t;return(t=c.request("main:app:decode-auth-token"))?(e=v(t),Math.floor(e/1e3)):0},g=function(){var e,t,n,r,o,i;if(i=c.request("main:app:decode-auth-token"),o=v(i),t=b(l.authToken.refreshInterval),n=l.authToken.refreshIntervalMultiple,e=1e3*(i.exp-i.iat),r=e-n*t,o<r)return c.request("main:app:refresh-token")},y=new h({appConfig:l}),c.request("main:app:route"),y.on("before:start",function(){var e;return e=c.request("main:app:get-theme"),e=e||"vanilla",c.request("main:app:switch-theme",e)}),y.on("start",function(){return setInterval(g,b("10s"))}),O=d(),O<=0&&c.request("main:app:decode-auth-token")&&(f.request("warning","deleting expired access token"),c.request("main:app:destroy-auth-token")),a=c.request("main:app:AuthRefresh"),_=new a,P=_.fetch(),P.fail(function(){return 401===P.status&&(c.request("main:app:destroy-auth-token"),l.needLogin&&(window.location.hash="#frontdoor/login")),y.start({state:{currentUser:null}})}),P.done(function(){var e;return e=_.get("token"),c.request("main:app:set-auth-token",e),y.start({state:{currentUser:c.request("main:app:decode-auth-token")}})}),e.exports=y},"7YgM":function(e,t){e.exports={name:"gillie",version:"0.0.1",description:"web application",main:"index.js",scripts:{test:'echo "Error: no test specified" && exit 1'},repository:{type:"git",url:"git+https://github.com/umeboshi2/gillie.git"},author:"",license:"UNLICENSED",bugs:{url:"https://github.com/umeboshi2/gillie/issues"},homepage:"https://github.com/umeboshi2/gillie#readme",devDependencies:{"amd-define-factory-patcher-loader":"^1.0.0","babel-core":"^6.26.0","babel-minify-webpack-plugin":"^0.2.0","babel-preset-env":"^1.6.0","chunk-manifest-webpack-plugin":"^1.1.2","clean-webpack-plugin":"^0.1.17","coffee-loader":"github:vladflip/coffee-loader#transpile-option","coffee-script":"^1.12.7",coffeescript:"^2.0.1","compression-webpack-plugin":"^1.0.1","css-loader":"^0.28.7","exports-loader":"^0.6.4","expose-loader":"^0.7.3","extract-text-webpack-plugin":"^3.0.0","file-loader":"^1.1.4","google-fonts-webpack-plugin":"^0.4.3",gulp:"^3.9.1","gulp-coffee":"^2.3.4","gulp-concat":"^2.6.1","gulp-nodemon":"^2.2.1","gulp-size":"^2.1.0","gulp-sourcemaps":"^2.6.1","gulp-uglify":"^3.0.0","gulp-util":"^3.0.8","imports-loader":"^0.7.1",minimist:"^1.2.0",mocha:"^3.5.3","mocha-webpack":"^0.7.0","raw-loader":"^0.5.1","resolve-url-loader":"^2.1.0","sass-loader":"^6.0.6",shelljs:"^0.7.8","stats-webpack-plugin":"^0.6.1","style-loader":"^0.18.2","url-loader":"^0.5.9",webpack:"^3.6.0","webpack-manifest-plugin":"^1.3.2"},dependencies:{"applet-bumblr":"github:umeboshi2/applet-bumblr","backbone.paginator":"^2.0.6",bootstrap:"^3.3.7","bootstrap-fileinput":"^4.4.5",dateformat:"^3.0.2",fullcalendar:"^3.5.1","jquery-ui":"^1.12.1","jquery.json-viewer":"^1.1.0","jwt-decode":"^2.2.0",leaflet:"^1.2.0",lovefield:"^2.1.12",qs:"^6.5.1",tbirds:"^0.3.24",yamljs:"^0.3.0"}}},"9w6x":function(e,t,n){"use strict";e.exports=function(){return window.scrollTo(0,0)}},"CR+N":function(e,t,n){function r(e){var t=o[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var o={"./bumblr/main":["Gncq",1],"./dbdocs/main":["R0Nh",2],"./frontdoor/main":["dKNP",0]};r.keys=function(){return Object.keys(o)},r.id="CR+N",e.exports=r},ETjO:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n("4kSj"),a=n("aGLy"),n("y11e"),n("2mEY"),n("EarI");var f=n("GXmR");u=f.ExtraController,l=a.Radio.channel("global"),c=a.Radio.channel("messages"),s=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"setup_layout_if_needed",value:function(){return this.mainController.setup_layout_if_needed()}},{key:"showChildView",value:function(e,t){return this.mainController.layout.showChildView(e,t)}},{key:"listItems",value:function(e){var t,n,r=this;return this.setup_layout_if_needed(),t=this.channel.request("db:"+this.modelName+":collection"),n=t.fetch({data:{columns:this.defaultColumns}}),n.done(function(){var n;return n=new e({collection:t}),r.showChildView("content",n),r.scroll_top()}),n.fail(function(){return c.request("danger","Failed to get "+r.objName+"s!")})}},{key:"addItem",value:function(e){var t;return this.setup_layout_if_needed(),t=new e,this.showChildView("content",t),this.scroll_top()}},{key:"viewItem",value:function(e,t){var n,r,o=this;return this.setup_layout_if_needed(),n=this.channel.request("db:"+this.modelName+":get",t),r=n.fetch(),r.done(function(){var t;return t=new e({model:n}),o.showChildView("content",t),o.scroll_top()}),r.fail(function(){return c.request("danger","Failed to get "+o.objName+"!")})}},{key:"editItem",value:function(e,t){var n,r,o=this;return this.setup_layout_if_needed(),n=this.channel.request("db:"+this.modelName+":get",t),r=n.fetch(),r.done(function(){var t;return t=new e({model:n}),o.showChildView("content",t),o.scroll_top()}),r.fail(function(){return c.request("danger","Failed to get "+o.objName+"!")})}}]),t}(u);return e.prototype.defaultColumns=["id","name"],e}(),l.reply("main:app:CrudController",function(){return s}),e.exports=s},EarI:function(e,t){function n(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,l,"day")||i(e,u,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,u=60*s,l=24*u,c=365.25*l;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},GPUo:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)};n("4kSj"),l=n("rdLu"),a=n("aGLy"),n("y11e"),s=a.Radio.channel("global"),a.Radio.channel("messages"),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"url",value:function(){return"/assets/documents/"+this.id+".md"}},{key:"fetch",value:function(e){return e=l.extend(e||{},{dataType:"text"}),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t}(a.Model),s.reply("main:app:get-document",function(e){return new u({id:e})}),e.exports={StaticDocument:u}},GSVz:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h,d,y,g,b,v,m,w,_,O,P,k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();a=n("4kSj"),s=n("aGLy"),f=n("y11e"),w=n("HWfR"),P=n("2mEY"),p=s.Radio.channel("global"),s.Radio.channel("messages"),y=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.Model);return e.prototype.defaults={label:"App Label",url:"#app",single_applet:!1,applets:[],urls:[]},e}(),g=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.Collection);return e.prototype.model=y,e}(),O=new g,p.reply("navbar-entries",function(){return O}),p.reply("new-navbar-entry",function(){return new y}),p.reply("add-navbar-entry",function(e){return O.add(e)}),p.reply("add-navbar-entries",function(e){return O.add(e)}),_=P.renderable(function(e){return P.button(".navbar-toggle",{type:"button","data-toggle":"collapse","data-target":"#"+e},function(){return P.span(".sr-only","Toggle Navigation"),P.span(".icon-bar"),P.span(".icon-bar"),P.span(".icon-bar")})}),u=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),k(t,[{key:"templateContext",value:function(){var e;return e=p.request("main:app:object"),{app:e,currentUser:e.getState("currentUser")}}},{key:"set_active",value:function(){return this.$el.addClass("active")}},{key:"unset_active",value:function(){return this.$el.removeClass("active"),this.$el.removeClass("open")}}]),t}(f.View);return e.prototype.model=y,e.prototype.tagName="li",e.prototype.ui={entry:".navbar-entry"},e.prototype.triggers={"click @ui.entry":"click:entry"},e}(),m=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(u);return e.prototype.template=P.renderable(function(e){return P.a(".navbar-entry",{href:e.url},e.label)}),e}(),c=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(u);return e.prototype.className="dropdown",e.prototype.template=P.renderable(function(e){return P.a(".dropdown-toggle",{role:"button","data-toggle":"dropdown"},function(){return P.text(e.label),P.b(".caret")}),P.ul(".dropdown-menu",function(){var t,n,r,o,i;for(o=e.menu,i=[],t=0,n=o.length;t<n;t++)null!=(r=o[t])&&r.needUser&&!e.currentUser||i.push(P.li(function(){return P.a(".navbar-entry",{href:r.url},r.label)}));return i})}),e}(),b=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),k(t,[{key:"childView",value:function(e){return e.has("menu")&&e.get("menu")?c:m}},{key:"setAllInactive",value:function(){return this.children.each(function(e){return e.unset_active()})}},{key:"onChildviewClickEntry",value:function(e,t){return this.setAllInactive(),e.set_active(),this.navigateOnClickEntry(e,t)}},{key:"navigateOnClickEntry",value:function(e,t){var n,r,o;return o=t.target,n=a(o).attr("href"),""===n.split("/")[0]?window.location=n:(r=p.request("main-router"),r.navigate(n,{trigger:!0}))}}]),t}(f.CollectionView);return e.prototype.tagName="ul",e.prototype.className="nav navbar-nav nav-pills",e}(),d=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),k(t,[{key:"onRender",value:function(){var e;return e=new b({collection:this.collection}),this.showChildView("list",e)}},{key:"setAllInactive",value:function(){var e;return e=this.getChildView("list"),e.setAllInactive()}}]),t}(f.View);return e.prototype.regions={list:"#navbar-entries",userMenu:"#user-menu",search:"#form-search-container"},e.prototype.template=P.renderable(function(e){return P.div("#navbar-view-collapse.collapse.navbar-collapse",function(){return P.div("#navbar-entries"),P.ul("#user-menu.nav.navbar-nav.navbar-right"),P.div("#form-search-container")})}),e}(),v=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(f.View);return e.prototype.template=P.renderable(function(e){return _("navbar-view-collapse"),P.a(".navbar-brand",{href:e.url},e.label)}),e.prototype.ui={brand:".navbar-brand"},e.prototype.triggers={"click @ui.brand":"click:brand"},e}(),l=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),k(t,[{key:"onRender",value:function(){var e,t,n,r,o,i,a,u,l;if(this.model.get("hasUser"))for(e=p.request("main:app:object"),t=e.getState("currentUser"),u=[],l=this.model.get("navbarEntries"),i=0,a=l.length;i<a;i++)null!=(n=l[i])&&n.needUser&&!t||u.push(n);else u=this.model.get("navbarEntries");return r=new d({collection:new s.Collection(u)}),this.showChildView("entries",r),o=new v({model:new s.Model(this.model.get("brand"))}),this.showChildView("header",o)}},{key:"onChildviewClickBrand",value:function(e,t){var n;return n=this.getChildView("entries"),n.setAllInactive(),this.navigateOnClickEntry(e,t)}},{key:"navigateOnClickEntry",value:function(e,t){var n,r,o;return o=t.target,n=a(o).attr("href"),""===n.split("/")[0]?window.location=n:(r=p.request("main-router"),r.navigate(n,{trigger:!0}))}}]),t}(f.View);return e.prototype.template=P.renderable(function(e){return P.nav("#navbar-view.navbar.navbar-static-top.navbar-default",{xmlns:"http://www.w3.org/1999/xhtml","xml:lang":"en",role:"navigation"},function(){return P.div(".container",function(){return P.div(".navbar-header"),P.div("#navbar-entries")})})}),e.prototype.regions={header:".navbar-header",usermenu:"#user-menu",mainmenu:"#main-menu",entries:"#navbar-entries"},e}(),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),k(t,[{key:"onBeforeStart",value:function(){var e,t;if(e=this.options.appConfig,t=this.options.parentApp.getView().getRegion("navbar"),this.setRegion(t),e.hasUser)return this.addChildApp("user-menu",{AppClass:e.userMenuApp,startWithParent:!0,appConfig:e,parentApp:this})}},{key:"onStart",value:function(){return this.initPage()}},{key:"initPage",value:function(){var e,t;return e=this.options.parentApp.options.appConfig,t=new l({model:new s.Model(e)}),this.showView(t)}}]),t}(w.App),e.exports=h},GXmR:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h,d,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n("4kSj"),a=n("aGLy"),f=n("y11e");var g=n("iuxk");u=g.DefaultAppletLayout,h=n("SiCa"),d=n("9w6x"),c=a.Radio.channel("global"),s=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"init_page",value:function(){}}]),t}(f.Object);return e.prototype.scroll_top=d,e.prototype.navigate_to_url=h,e}(),p=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"_get_applet",value:function(){var e;return e=c.request("main:app:object"),e.getView().getRegion("applet")}},{key:"setup_layout",value:function(){var e;return this.layout=new this.layoutClass,e=this._get_applet(),e.hasView()&&e.empty(),e.show(this.layout)}},{key:"setup_layout_if_needed",value:function(){return void 0===this.layout?this.setup_layout():this.layout.isDestroyed()?this.setup_layout():void 0}},{key:"_get_region",value:function(e){return this.layout.getRegion(e)}},{key:"_show_view",value:function(e,t){var n;return n=new e({model:t}),this.layout.showChildView("content",n)}},{key:"_load_view",value:function(e,t,n){var r,o=this;return t.isEmpty()||1===Object.keys(t.attributes).length?(r=t.fetch(),r.done(function(){return o._show_view(e,t)}),r.fail(function(){var e;return e="Failed to load "+n+" data.",MessageChannel.request("danger",e)})):this._show_view(e,t)}}]),t}(s);return e.prototype.layoutClass=u,e}(),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"channelName",value:function(){return this.getOption("channelName")||"global"}},{key:"initialize",value:function(e){return this.appletName=e.appletName,this.applet=c.request("main:applet:get-applet",this.appletName),this.mainController=this.applet.router.controller,this.channel=this.getChannel()}},{key:"setup_layout_if_needed",value:function(){return this.mainController.setup_layout_if_needed()}},{key:"showChildView",value:function(e,t){return this.mainController.layout.showChildView(e,t)}}]),t}(s),e.exports={BaseController:s,MainController:p,ExtraController:l}},H97n:function(e,t,n){"use strict";var r,o;r=n("qF/v"),r.userMenuApp=n("TN+8"),r.hasUser=!0,r.appletRoutes.profile="userprofile",r.brand.label="Gillie",r.brand.url="#",r.authToken={},r.authToken.refreshInterval="5m",r.authToken.refreshIntervalMultiple=3,o={label:"Misc Applets",menu:[{label:"Themes",url:"#frontdoor/themes"},{label:"Bumblr",url:"#bumblr"},{label:"Todos",url:"#todos",needUser:!0},{label:"TestUpload",url:"#frontdoor/upload",needUser:!0}]},r.navbarEntries=[o],e.exports=r},HbAm:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)};a=n("4kSj"),l=n("y11e"),u=Backbone.Radio.channel("global"),s=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"getEl",value:function(e){var t;return t=a(e),t.attr("class","modal"),t}},{key:"show",value:function(e){return p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this,e),this.$el.modal({backdrop:this.backdrop,keyboard:this.keyboard}),this.$el.modal("show")}}]),t}(l.Region);return e.prototype.el="#modal",e.prototype.backdrop=!1,e.prototype.keyboard=!1,e}(),u.reply("main:app:show-modal",function(e,t){var n,r,o;return n=u.request("main:app:object"),r=n.getView(),o=r.regions.modal,o.backdrop=!!(null!=t?t.backdrop:void 0),o.show(e)}),e.exports=s},IS1s:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=[].indexOf;u=n("y11e"),s=Backbone.Radio.channel("global"),l=Backbone.Radio.channel("messages"),p={},s.reply("main:applet:unregister",function(e){return delete p[e]}),s.reply("main:applet:register",function(e,t){return p[e]=t}),s.reply("main:applet:get-applet",function(e){return p[e]}),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"loadFrontDoor",value:function(){var e,t,r;return t=s.request("main:app:config"),e=(null!=t?t.frontdoorApplet:void 0)||"frontdoor",r=n("CR+N")("./"+e+"/main"),r.then(function(n){var r;r=new n({appConfig:t,isFrontdoorApplet:!0}),s.request("main:applet:register",e,r),r.start(),Backbone.history.started||Backbone.history.start()})}},{key:"_handle_route",value:function(e,t){var r,o;if(r=s.request("main:app:config"),e||(console.warn("No applet recognized",e),e="frontdoor"),h.call(Object.keys(r.appletRoutes),e)>=0&&(e=r.appletRoutes[e],console.log("Using defined appletRoute",e)),h.call(Object.keys(p),e)>=0)throw new Error("Unhandled applet path #"+e+"/"+t);return o=n("CR+N")("./"+e+"/main"),o.then(function(t){var n;return n=new t({appConfig:r}),s.request("main:applet:register",e,n),n.start(),Backbone.history.loadUrl()}).catch(function(n){if(n.message.startsWith("Cannot find module"))return l.request("warning","Bad route "+e+", "+t+"!!");if(n.message.startsWith("Unhandled applet"))return l.request("warning",n.message);throw n})}},{key:"routeApplet",value:function(e,t){var n;try{return this._handle_route(e,t)}catch(e){if(n=e,n.message.startsWith("Unhandled applet"))return l.request("warning",n.message)}}},{key:"directLink",value:function(e){}}]),t}(u.Object),a=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"onRoute",value:function(e,t,n){var r;"directLink"===e&&(2===n.length?(r=null!==n[1]?"http"+n.join("?"):"http"+n[0],window.open(r,"_blank")):console.log("unhandled directLink"))}}]),t}(u.AppRouter);return e.prototype.appRoutes={"http*remainder":"directLink",":applet":"routeApplet",":applet/*path":"routeApplet"},e}(),s.reply("main:app:route",function(){var e,t;return e=new c,t=new a({controller:e}),s.reply("main-controller",function(){return e}),s.reply("main-router",function(){return t})}),e.exports={RequireController:c,AppletRouter:a}},OhLM:function(e,t,n){/*
  backbone.paginator
  http://github.com/backbone-paginator/backbone.paginator

  Copyright (c) 2016 Jimmy Yuen Ho Wong and contributors

  @module
  @license MIT
*/
!function(t){e.exports=t(n("rdLu"),n("aGLy"))}(function(e,t){"use strict";function n(t,n){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t)throw new TypeError("`"+n+"` must be a finite integer");return t}function r(e){for(var t,n,r,o,i={},a=decodeURIComponent,s=e.split("&"),u=0,l=s.length;u<l;u++){t=s[u].split("="),n=t[0],r=t[1],null==r&&(r=!0),n=a(n),r=a(r),o=i[n],d(o)?o.push(r):i[n]=o?[o,r]:r}return i}function o(e,t,n){var r=e._events[t];if(r&&r.length){var o=r[r.length-1],i=o.callback;o.callback=function(){try{i.apply(this,arguments),n()}catch(e){throw e}finally{o.callback=i}}}else n()}var i=e.extend,a=e.omit,s=e.clone,u=e.each,l=e.pick,c=e.includes,p=e.isEmpty,f=e.pairs||e.toPairs,h=e.invert,d=e.isArray,y=e.isFunction,g=e.isObject,b=e.keys,v=e.isUndefined,m=Math.ceil,w=Math.floor,_=Math.max,O=t.Collection.prototype,P=/[\s'"]/g,k=/[<>\s'"]/g,j=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){O.constructor.apply(this,arguments),t=t||{};var n=this.mode=t.mode||this.mode||C.mode,r=i({},C.queryParams,this.queryParams,t.queryParams||{});r.directions=i({},C.queryParams.directions,this.queryParams.directions,r.directions),this.queryParams=r;var o=this.state=i({},C.state,this.state,t.state);o.currentPage=null==o.currentPage?o.firstPage:o.currentPage,d(e)||(e=e?[e]:[]),e=e.slice(),"server"==n||null!=o.totalRecords||p(e)||(o.totalRecords=this.length),this.switchMode(n,i({fetch:!1,resetState:!1,models:e},t));var a=t.comparator;if(o.sortKey&&!a&&this.setSorting(o.sortKey,o.order,t),"server"!=n){var u=this.fullCollection;a&&t.full&&(this.comparator=null,u.comparator=a),t.full&&u.sort(),p(e)||this.getPage(o.currentPage)}this._initState=s(this.state)},_makeFullCollection:function(e,n){var r,o,i,a=["url","model","sync","comparator"],s=this.constructor.prototype,u={};for(r=0,o=a.length;r<o;r++)i=a[r],v(s[i])||(u[i]=s[i]);var l=new(t.Collection.extend(u))(e,n);for(r=0,o=a.length;r<o;r++)i=a[r],this[i]!==s[i]&&(l[i]=this[i]);return l},_makeCollectionEventHandler:function(e,t){return function(n,r,a,l){var c=e._handlers;u(b(c),function(n){var r=c[n];e.off(n,r),t.off(n,r)});var p=s(e.state),f=p.firstPage,h=0===f?p.currentPage:p.currentPage-1,d=p.pageSize,y=h*d,g=y+d;if("add"==n){var w,_,O,P,l=l||{};if(a==t)(_=t.indexOf(r))>=y&&_<g&&(P=e,w=O=_-y);else{w=e.indexOf(r),_=y+w,P=t;var O=v(l.at)?_:l.at+y}if(l.onRemove||(++p.totalRecords,delete l.onRemove),e.state=e._checkState(p),P){P.add(r,i({},l,{at:O}));var k=w>=d?r:!v(l.at)&&O<g&&e.length>d?e.at(d):null;k&&o(a,n,function(){e.remove(k,{onAdd:!0})})}l.silent||e.trigger("pageable:state:change",e.state)}if("remove"==n){if(l.onAdd)delete l.onAdd;else{if(--p.totalRecords){var j=p.totalPages=m(p.totalRecords/d);p.lastPage=0===f?j-1:j||f,p.currentPage>j&&(p.currentPage=p.lastPage)}else p.totalRecords=null,p.totalPages=null;e.state=e._checkState(p);var C,R=l.index;a==e?((C=t.at(g))?o(e,n,function(){e.push(C,{onRemove:!0})}):!e.length&&p.totalRecords&&e.reset(t.models.slice(y-d,g-d),i({},l,{parse:!1})),t.remove(r)):R>=y&&R<g&&((C=t.at(g-1))&&o(e,n,function(){e.push(C,{onRemove:!0})}),e.remove(r),!e.length&&p.totalRecords&&e.reset(t.models.slice(y-d,g-d),i({},l,{parse:!1})))}l.silent||e.trigger("pageable:state:change",e.state)}if("reset"==n){if(l=a,(a=r)==e&&null==l.from&&null==l.to){var E=t.models.slice(0,y),S=t.models.slice(y+e.models.length);t.reset(E.concat(e.models).concat(S),l)}else a==t&&((p.totalRecords=t.models.length)||(p.totalRecords=null,p.totalPages=null),"client"==e.mode&&(f=p.lastPage=p.currentPage=p.firstPage,h=0===f?p.currentPage:p.currentPage-1,y=h*d,g=y+d),e.state=e._checkState(p),e.reset(t.models.slice(y,g),i({},l,{parse:!1})));l.silent||e.trigger("pageable:state:change",e.state)}"sort"==n&&(l=a,(a=r)===t&&e.reset(t.models.slice(y,g),i({},l,{parse:!1}))),u(b(c),function(n){var r=c[n];u([e,t],function(e){e.on(n,r);var t=e._events[n]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode,r=this.links,o=e.totalRecords,i=e.pageSize,a=e.currentPage,s=e.firstPage,u=e.totalPages;if(null!=o&&null!=i&&null!=a&&null!=s&&("infinite"!=t||r)){if(o=n(o,"totalRecords"),i=n(i,"pageSize"),a=n(a,"currentPage"),s=n(s,"firstPage"),i<1)throw new RangeError("`pageSize` must be >= 1");if(u=e.totalPages=m(o/i),s<0||s>1)throw new RangeError("`firstPage must be 0 or 1`");if(e.lastPage=0===s?_(0,u-1):u||s,"infinite"==t){if(!r[a])throw new RangeError("No link found for page "+a)}else if(a<s||u>0&&(s?a>u:a>=u))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(s?"<":"<=")+" totalPages if "+s+"-based. Got "+a+".")}return e},setPageSize:function(e,t){e=n(e,"pageSize"),t=t||{first:!1};var r=this.state,o=m(r.totalRecords/e),s=o?_(r.firstPage,w(o*r.currentPage/r.totalPages)):r.firstPage;return r=this.state=this._checkState(i({},r,{pageSize:e,currentPage:t.first?r.firstPage:s,totalPages:o})),this.getPage(r.currentPage,a(t,["first"]))},switchMode:function(t,n){if(!c(["server","client","infinite"],t))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');n=n||{fetch:!0,resetState:!0};var r=this.state=n.resetState?s(this._initState):this._checkState(i({},this.state));this.mode=t;var o,l=this,p=this.fullCollection,f=this._handlers=this._handlers||{};if("server"==t||p)"server"==t&&p&&(u(b(f),function(e){o=f[e],l.off(e,o),p.off(e,o)}),delete this._handlers,this._fullComparator=p.comparator,delete this.fullCollection);else{p=this._makeFullCollection(n.models||[],n),p.pageableCollection=this,this.fullCollection=p;var h=this._makeCollectionEventHandler(this,p);u(["add","remove","reset","sort"],function(t){f[t]=o=e.bind(h,{},t),l.on(t,o),p.on(t,o)}),p.comparator=this._fullComparator}if("infinite"==t)for(var d=this.links={},y=r.firstPage,g=m(r.totalRecords/r.pageSize),v=0===y?_(0,g-1):g||y,w=r.firstPage;w<=v;w++)d[w]=this.url;else this.links&&delete this.links;return n.silent||this.trigger("pageable:state:change",r),n.fetch?this.fetch(a(n,"fetch","resetState")):this},hasPreviousPage:function(){var e=this.state,t=e.currentPage;return"infinite"!=this.mode?t>e.firstPage:!!this.links[t-1]},hasNextPage:function(){var e=this.state,t=this.state.currentPage;return"infinite"!=this.mode?t<e.lastPage:!!this.links[t+1]},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var r=this.mode,o=this.fullCollection;t=t||{fetch:!1};var s=this.state,u=s.firstPage,l=s.currentPage,c=s.lastPage,f=s.pageSize,h=e;switch(e){case"first":h=u;break;case"prev":h=l-1;break;case"next":h=l+1;break;case"last":h=c;break;default:h=n(e,"index")}this.state=this._checkState(i({},s,{currentPage:h})),t.silent||this.trigger("pageable:state:change",this.state),t.from=l,t.to=h;var d=(0===u?h:h-1)*f,y=o&&o.length?o.models.slice(d,d+f):[];return"client"!=r&&("infinite"!=r||p(y))||t.fetch?("infinite"==r&&(t.url=this.links[h]),this.fetch(a(t,"fetch"))):(this.reset(y,a(t,"fetch")),this)},getPageByOffset:function(e,t){if(e<0)throw new RangeError("`offset must be > 0`");e=n(e,"offset");var r=w(e/this.state.pageSize);return 0!==this.state.firstPage&&r++,r>this.state.lastPage&&(r=this.state.lastPage),this.getPage(r,t)},sync:function(e,n,r){var o=this;if("infinite"==o.mode){var a=r.success,s=o.state.currentPage;r.success=function(e,t,n){var u=o.links,l=o.parseLinks(e,i({xhr:n},r));l.first&&(u[o.state.firstPage]=l.first),l.prev&&(u[s-1]=l.prev),l.next&&(u[s+1]=l.next),a&&a(e,t,n)}}return(O.sync||t.sync).call(o,e,n,r)},parseLinks:function(e,t){var n={},r=t.xhr.getResponseHeader("Link");if(r){var o=["first","prev","next"];u(r.split(","),function(e){var t=e.split(";"),r=t[0].replace(k,""),i=t.slice(1);u(i,function(e){var t=e.split("="),i=t[0].replace(P,""),a=t[1].replace(P,"");"rel"==i&&c(o,a)&&(n[a]=r)})})}return n},parse:function(e,t){var n=this.parseState(e,s(this.queryParams),s(this.state),t);return n&&(this.state=this._checkState(i({},this.state,n)),(t||{}).silent||this.trigger("pageable:state:change",this.state)),this.parseRecords(e,t)},parseState:function(t,n,r,o){if(t&&2===t.length&&g(t[0])&&d(t[1])){var i=s(r),l=t[0];return u(f(a(n,"directions")),function(t){var n=t[0],r=t[1],o=l[r];v(o)||e.isNull(o)||(i[n]=l[r])}),l.order&&(i.order=1*h(n.directions)[l.order]),i}},parseRecords:function(e,t){return e&&2===e.length&&g(e[0])&&d(e[1])?e[1]:e},fetch:function(t){t=t||{};var n=this._checkState(this.state),o=this.mode;"infinite"!=o||t.url||(t.url=this.links[n.currentPage]);var s=t.data||{},c=t.url||this.url||"";y(c)&&(c=c.call(this));var p=c.indexOf("?");-1!=p&&(i(s,r(c.slice(p+1))),c=c.slice(0,p)),t.url=c,t.data=s;var h="client"==this.mode?l(this.queryParams,"sortKey"):a(l(this.queryParams,b(C.queryParams)),"order","directions","totalPages","totalRecords");u(h,function(t,r){t=y(t)?t.call(this):t,null!=n[r]&&null!=t&&e.isUndefined(s[t])&&(s[t]=n[r])},this);var g=y(this.queryParams.sortKey)?this.queryParams.sortKey.call(this):this.queryParams.sortKey,m=y(this.queryParams.order)?this.queryParams.order.call(this):this.queryParams.order;if(null!=g&&null!=n.sortKey&&null!=m&&null!=n.order)if(d(n.order)){s[m]=[];for(var w=0;w<n.order.length;w++)s[m].push(this.queryParams.directions[n.order[w]])}else s[m]=this.queryParams.directions[n.order+""];for(var _=f(a(this.queryParams,b(C.queryParams))),w=0;w<_.length;w++){var P=_[w],k=P[1];k=y(k)?k.call(this):k,null!=k&&(s[P[0]]=k)}if("server"!=o){var j=this,R=this.fullCollection,E=t.success;return t.success=function(e,n,r){r=r||{},v(t.silent)?delete r.silent:r.silent=t.silent;var a=e.models;"client"==o?R.reset(a,r):(R.add(a,i({at:R.length},i(r,{parse:!1}))),j.trigger("reset",j,r)),E&&E(e,n,r)},O.fetch.call(this,i({},t,{silent:!0}))}return O.fetch.call(this,t)},_makeComparator:function(e,t,n){var r=this.state;if(e=e||r.sortKey,t=t||r.order,e&&t)return n||(n=function(e,t){return e.get(t)}),function(r,o){var i,a=n(r,e),s=n(o,e);return 1===t&&(i=a,a=s,s=i),a===s?0:a<s?-1:1}},setSorting:function(e,t,n){var r=this.state;r.sortKey=e,r.order=t=t||r.order;var o=this.fullCollection,a=!1,s=!1;e||(a=s=!0);var u=this.mode;n=i({side:"client"==u?u:"server",full:!0},n);var l=this._makeComparator(e,t,n.sortValue),c=n.full,p=n.side;return"client"==p?c?(o&&(o.comparator=l),a=!0):(this.comparator=l,s=!0):"server"!=p||c||(this.comparator=l),a&&(this.comparator=null),s&&o&&(o.comparator=null),this}}),C=j.prototype;return j})},SiCa:function(e,t,n){"use strict";var r;r=n("aGLy"),e.exports=function(e){var t;return""===e.split("/")[0]?window.location=e:(t=new r.Router,t.navigate(e,{trigger:!0}))}},"TN+8":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h,d,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();a=n("aGLy"),u=n("y11e"),l=n("HWfR"),h=n("2mEY"),s=a.Radio.channel("global"),f=h.renderable(function(e){return h.li(".dropdown",function(){return h.a(".dropdown-toggle",{"data-toggle":"dropdown"},function(){return h.text(e.guestUserName),h.b(".caret")}),h.ul(".dropdown-menu",function(){return h.li(function(){return h.a({href:e.loginUrl},"login")})})})}),d=h.renderable(function(e){return h.li(".dropdown",function(){return h.a(".dropdown-toggle",{"data-toggle":"dropdown"},function(){return h.text(e.name),h.b(".caret")}),h.ul(".dropdown-menu",function(){return h.li(function(){return h.a({href:"#profile"},"User Profile")}),"admin"===e.username&&(h.li(function(){return h.a({href:"/admin"},"Administration")}),h.li(function(){return h.a({href:"#dbadmin"},"Database")})),h.li(function(){return h.a({href:"#frontdoor/logout"},"logout")})})})}),p=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"templateContext",value:function(){return{loginUrl:this.options.appConfig.loginUrl,guestUserName:this.options.appConfig.guestUserName,model:this.model||new a.Model,options:this.options}}},{key:"template",value:function(e){return(null!=e?e.name:void 0)?(console.log("We have user: "+e.name+"!"),d(e)):(console.log("We have guest!"),f(e))}}]),t}(u.View);return e.prototype.tagName="ul",e.prototype.className="nav navbar-nav",e}(),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"onBeforeStart",value:function(){var e;return this.setRegion(this.options.parentApp.getView().getRegion("usermenu")),e=s.request("main:app:decode-auth-token"),console.log("TOKEN",e),this.options.user=e}},{key:"onStart",value:function(){var e,t;return s,e=this.options.appConfig,t=new p({appConfig:e,model:new a.Model(this.options.user)}),this.showView(t)}}]),t}(l.App),e.exports=c},X484:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h,d,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();a=n("aGLy"),l=n("y11e"),h=n("HWfR"),n("2mEY"),c=n("u+5S"),p=n("GSVz"),u=n("oSBz"),s=a.Radio.channel("global"),f=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(a.Model);return e.prototype.defaults={startHistory:!0,appConfig:{}},e}(),s=a.Radio.channel("global"),d=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"onBeforeStart",value:function(){var e,t,n,r=this;if(e=this.options.appConfig,s.reply("main:app:object",function(){return r}),s.reply("main:app:config",function(){return e}),this.setRegion(new l.Region({el:(null!=e?e.appRegion:void 0)||"body"})),t=!0,null!=e.useMessages&&!1===e.useMessages&&(t=!1),t&&this.addChildApp("messages",{AppClass:c,startWithParent:!0,parentApp:this}),n=!0,null!=e.useNavbar&&!1===e.useNavbar&&(n=!1),n)return this.addChildApp("navbar",{AppClass:p,startWithParent:!0,appConfig:e,parentApp:this})}},{key:"initPage",value:function(){var e,t,n;return t=this.options.appConfig,e=(null!=t?t.layout:void 0)||u,t.layoutOptions,n=new e(t.layoutOptions),this.showView(n)}},{key:"onStart",value:function(){var e;if(this.initPage(),this.getState("startHistory"))return e=s.request("main-controller"),e.loadFrontDoor()}}]),t}(h.App);return e.prototype.StateModel=f,e.prototype.options={appConfig:{}},e}(),e.exports=d},Zu8L:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();a=n("aGLy"),n("y11e"),a.Radio.channel("global"),s=n("l9Gg"),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"onDomRefresh",value:function(){var e;return e=new s,this.view.showChildView("content",e)}}]),t}(a.Marionette.Behavior),e.exports=u},iuxk:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();a=n("aGLy"),n("y11e"),h=n("2mEY"),f=n("EarI"),s=n("Zu8L"),l=n("yk0R"),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";return h.renderable(function(){if("left"===n&&h.div("#sidebar.col-"+t+"-"+e+".left-column"),h.div("#main-content.col-"+t+"-"+(12-e)),"right"===n)return h.div("#sidebar.col-"+t+"-"+e+".right-column")})},u=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(a.Marionette.View);return e.prototype.template=p(),e.prototype.regions={sidebar:"#sidebar",content:"#main-content"},e}(),c=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"regions",value:function(){var e;return e=new l({el:"#main-content"}),e.slide_speed=f(".01s"),{content:e,toolbar:"#main-toolbar"}}}]),t}(a.Marionette.View);return e.prototype.behaviors={ShowInitialEmptyContent:{behaviorClass:s}},e.prototype.template=h.renderable(function(){return h.div(".col-sm-12",function(){return h.div(".row",function(){return h.div("#main-toolbar.col-sm-8.col-sm-offset-2")}),h.div(".row",function(){return h.div("#main-content.col-sm-10.col-sm-offset-1")})})}),e}(),e.exports={SidebarAppletLayout:u,ToolbarAppletLayout:c}},l9Gg:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u;a=n("aGLy"),n("y11e"),u=n("2mEY"),s=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(a.Marionette.View);return e.prototype.template=u.renderable(function(){return u.div(".jumbotron",function(){return u.h1(function(){return u.text("Loading ..."),u.i(".fa.fa-spinner.fa-spin")})})}),e}(),e.exports=s},nwNo:function(e,t){function n(e){this.message=e}function r(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,a=0,s=0,u="";i=t.charAt(s++);~i&&(r=a%4?64*r+i:i,a++%4)?u+=String.fromCharCode(255&r>>(-2*a&6)):0)i=o.indexOf(i);return u}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||r},oSBz:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l;s=n("y11e"),l=n("2mEY"),u=n("HbAm"),a=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.View);return e.prototype.template=l.renderable(function(){return l.div("#navbar-view-container"),l.div(".container-fluid",function(){return l.div(".row",function(){return l.div(".col-sm-10.col-sm-offset-1",function(){return l.div("#messages")})}),l.div("#applet-content.row"),l.div("#footer.row")}),l.div("#modal")}),e.prototype.regions={messages:"#messages",navbar:"#navbar-view-container",modal:u,applet:"#applet-content",footer:"#footer"},e}(),e.exports=a},ozX0:function(e,t,n){function r(e){return decodeURIComponent(o(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var o=n("nwNo");e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return r(t)}catch(e){return o(t)}}},"p2/H":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h,d,y,g;for(a=n("aGLy"),a.Radio.channel("global"),l=a.Radio.channel("messages"),s=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(a.Model);return e.prototype.defaults={level:"info"},e}(),u=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(a.Collection);return e.prototype.model=s,e}(),y=new u,l.reply("messages",function(){return y}),c=function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6e3;return r=new s({content:e,level:t,icon:o}),"danger"!==t&&(n=function(){return y.remove(r)},setTimeout(n,i)),y.add(r)},l.reply("display-message",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return console.warn("icon",n),c(e,t,n)}),g=["success","info","warning","danger"],p=function(e){return l.reply(e,function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c(t,e,n)})},f=0,h=g.length;f<h;f++)d=g[f],p(d);l.reply("delete-message",function(e){return y.remove(e)}),e.exports={BaseMessageCollection:u}},"qF/v":function(e,t,n){"use strict";var r;r=n("oSBz"),e.exports={appRegion:"body",layout:r,layoutOptions:{},useMessages:!0,useNavbar:!0,brand:{label:"TBirds",url:"#"},frontdoorApplet:"frontdoor",hasUser:!1,userMenuApp:void 0,needLogin:!1,loginUrl:"/#frontdoor/login",guestUserName:"Guest",navbarEntries:[],appletRoutes:{pages:"frontdoor"}}},qYnM:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h;a=n("4kSj"),s=n("aGLy"),p=n("y11e"),n("gNGx"),n("IS1s"),l=n("toVQ"),c=s.Radio.channel("global"),s.Radio.channel("messages"),null===localStorage.getItem("page-size")&&localStorage.setItem("page-size",10),c.reply("main:app:set-pagesize",function(e){return localStorage.setItem("page-size",e)}),c.reply("main:app:get-pagesize",function(){return localStorage.getItem("page-size")}),n("2clo"),n("ETjO"),n("GPUo"),c.reply("main:app:switch-theme",function(e){var t,n;return t="/assets/stylesheets/bootstrap-"+e+".css",n=a('head link[href^="/assets/stylesheets/bootstrap-"]'),n.attr("href",t)}),c.reply("main:app:set-theme",function(e){return localStorage.setItem("main-theme",e)}),c.reply("main:app:get-theme",function(){return localStorage.getItem("main-theme")}),f=function(e){var t,n,r,o;return n=encodeURIComponent(e.data),o=e.type+","+n,r=e.filename||"exported",t=document.createElement("a"),t.id=e.el_id||"exported-file-anchor",t.href=o,t.download=r,t.innerHTML="Download "+r,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},c.reply("export-to-file",function(e){return f(e)}),u=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(p.View);return e.prototype.behaviors=[l],e.prototype.ui={close_btn:"#close-modal div"},e}(),c.reply("main:app:BaseModalView",function(){return u}),h=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=c.request("main:app:object"),n=t.getView().getRegion("modal"),n.backdrop=r,n.show(e)},c.reply("show-modal",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return console.warn("show-modal",t),h(e,!1)}),e.exports={}},toVQ:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};a=n("4kSj"),n("aGLy"),u=n("y11e"),s=function(){var e=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.keydownHandler=e.keydownHandler.bind(e),e}return i(t,e),l(t,[{key:"keydownHandler",value:function(e){if(c(this,t),27===e.keyCode)return this.ui.close_btn.children().click(),a("html").unbind("keydown",this.keydownHandler)}},{key:"onDomRefresh",value:function(){return a("html").keydown(this.keydownHandler)}},{key:"onBeforeDestroy",value:function(){return a("html").unbind("keydown",this.keydownHandler)}}]),t}(u.Behavior);return e.prototype.events={"click @ui.close_btn":"onBeforeDestroy"},e}(),e.exports=s},"u+5S":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u,l,c,p,f,h,d,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();a=n("aGLy"),s=n("y11e"),f=n("HWfR"),d=n("2mEY"),a.Radio.channel("global"),u=a.Radio.channel("messages"),n("p2/H"),h=d.renderable(function(e){var t;return t=e.level,"error"===t&&(t="danger"),d.div(".alert.alert-"+t,function(){var t;return d.button(".close",{type:"button","aria-hidden":!0},function(){return d.raw("&times;")}),e.icon&&(t=e.icon.startsWith("fa-")?".fa."+e.icon:".glyphicon.glyphicon-"+e.icon,d.span(t),d.raw("&nbsp;&nbsp")),d.text(e.content)})}),l=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"destroy_message",value:function(){return u.request("delete-message",this.model)}}]),t}(s.View);return e.prototype.template=d.renderable(function(e){return"function"==typeof e.content?e.content(e):h(e)}),e.prototype.ui={close_button:"button.close"},e.prototype.events={"click @ui.close_button":"destroy_message"},e}(),p=function(){var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.CollectionView);return e.prototype.childView=l,e}(),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"onBeforeStart",value:function(){return this.collection=u.request("messages"),this.setRegion(this.options.parentApp.getView().getRegion("messages"))}},{key:"onStart",value:function(){return this.initPage()}},{key:"initPage",value:function(){var e;return e=new p({collection:this.collection}),this.showView(e)}}]),t}(f.App),e.exports=c},yk0R:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n("4kSj"),a=n("y11e"),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"attachHtml",value:function(e){var t;return t=this.slide_speed?this.slide_speed:"fast",this.$el.hide(),this.$el.html(e.el),this.$el.slideDown(t)}}]),t}(a.Region),e.exports=s},ytdl:function(e,t,n){"use strict";function r(e){this.message=e}var o=n("ozX0");r.prototype=new Error,r.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");t=t||{};var n=!0===t.header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(e){throw new r("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=r}},["4svf"]);